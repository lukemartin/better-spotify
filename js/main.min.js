/**
 * spotify-browser - spotify-browser
 * @version v0.0.0
 * @link https://github.com/lukemartin/spotify-browser
 */
!function t(e,r,o){function n(s,i){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(l)return l(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=r[s]={exports:{}};e[s][0].call(a.exports,function(t){var r=e[s][1][t];return n(r?r:t)},a,a.exports,t,e,r,o)}return r[s].exports}for(var l="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t){var e,r,o;o=t("./test")(),e=angular.module("betterSpotify",["ngRoute"]),r=$("head base").attr("href"),e.config(["$routeProvider","$locationProvider","$compileProvider",function(t,e,r){return r.aHrefSanitizationWhitelist(/^\s*(https?|file|tel|spotify):/),e.html5Mode(!0),t.when("/meow",{templateUrl:"partials/meow.html"}).when("/artists/:id",{templateUrl:"partials/artist.html",controller:"ArtistController"}).when("/auth",{templateUrl:"partials/auth.html",controller:"AuthController"}).when("/authed",{templateUrl:"partials/meow.html",controller:"AuthedController"}).when("/user",{templateUrl:"partials/user.html",controller:"UserController"}).otherwise({templateUrl:"partials/main.html",controller:"HomeController"})}]),e.controller("HomeController",["$scope","$http",function(t,e){return t.getArtists=function(r){return e.get("https://api.spotify.com/v1/search?q="+r+"&type=artist").success(function(e){return console.log(e.artists.items),t.artists=e.artists.items}).error(function(t){return console.log(t)})}}]),e.controller("ArtistController",["$scope","$http","$routeParams",function(t,e,r){return e.get("https://api.spotify.com/v1/artists/"+r.id).success(function(e){return console.log(e),t.artist=e}).error(function(t){return console.log(t)}),e.get("https://api.spotify.com/v1/artists/"+r.id+"/albums?limit=50").success(function(e){return console.log(e),t.albums=e.items}).error(function(t){return console.log(t)})}]),e.controller("AuthController",["$scope","$http",function(){var t,e;return t="59d6d5180eca418095c49cb30bc0c3a3",e=encodeURIComponent(""+r+"authed"),window.location="https://accounts.spotify.com/authorize?client_id="+t+"&response_type=token&redirect_uri="+e+"&scope=user-library-read user-library-modify"}]),e.controller("AuthedController",["$scope","$http","$location",function(){var t,e,r,o;return console.log("beep"),r=window.location.hash.split("&"),t=r[0].split("=")[1],o=r[1].split("=")[1],e=r[2].split("=")[1],window.localStorage.setItem("authed",!0),window.localStorage.setItem("accessToken",t),window.localStorage.setItem("tokenType",o),window.localStorage.setItem("expires",e),window.location="/user"}]),e.controller("UserController",["$scope","$http",function(t,e){var r;return r=function(){return e.get("https://api.spotify.com/v1/me/tracks?limit=50",{headers:{Authorization:"Bearer "+window.localStorage.getItem("accessToken")}}).success(function(e){return console.log(e),t.tracks=e}).error(function(t){return console.log(t)})},e.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+window.localStorage.getItem("accessToken")}}).success(function(e){return t.user=e,r()}).error(function(t){return console.log(t)})}])},{"./test":2}],2:[function(t,e){e.exports=function(){return console.log("test module")}},{}]},{},[1]);