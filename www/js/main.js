(function() {
  var app;

  app = angular.module('betterSpotify', ['ngRoute']);

  app.config([
    '$routeProvider', '$locationProvider', '$compileProvider', function($routeProvider, $locationProvider, $compileProvider) {
      $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|file|tel|spotify):/);
      $locationProvider.html5Mode(true);
      return $routeProvider.when('/meow', {
        templateUrl: '/partials/meow.html'
      }).when('/artists/:id', {
        templateUrl: '/partials/artist.html',
        controller: 'ArtistController'
      }).when('/auth', {
        templateUrl: '/partials/auth.html',
        controller: 'AuthController'
      }).when('/authed', {
        templateUrl: '/partials/meow.html',
        controller: 'AuthedController'
      }).when('/user', {
        templateUrl: '/partials/user.html',
        controller: 'UserController'
      }).otherwise({
        templateUrl: '/partials/main.html',
        controller: 'HomeController'
      });
    }
  ]);

  app.controller('HomeController', [
    '$scope', '$http', function($scope, $http) {
      return $scope.getArtists = function(artist) {
        return $http.get("https://api.spotify.com/v1/search?q=" + artist + "&type=artist").success(function(data) {
          console.log(data.artists.items);
          return $scope.artists = data.artists.items;
        }).error(function(data) {
          return console.log(data);
        });
      };
    }
  ]);

  app.controller('ArtistController', [
    '$scope', '$http', '$routeParams', function($scope, $http, $routeParams) {
      $http.get("https://api.spotify.com/v1/artists/" + $routeParams.id).success(function(data) {
        console.log(data);
        return $scope.artist = data;
      }).error(function(data) {
        return console.log(data);
      });
      return $http.get("https://api.spotify.com/v1/artists/" + $routeParams.id + "/albums?limit=50").success(function(data) {
        console.log(data);
        return $scope.albums = data.items;
      }).error(function(data) {
        return console.log(data);
      });
    }
  ]);

  app.controller('AuthController', [
    '$scope', '$http', function($scope, $http) {
      var clientId, redirectUrl;
      clientId = '59d6d5180eca418095c49cb30bc0c3a3';
      redirectUrl = encodeURIComponent('http://lukes-imac.local:4141/authed');
      return window.location = "https://accounts.spotify.com/authorize?client_id=" + clientId + "&response_type=token&redirect_uri=" + redirectUrl + "&scope=user-library-read user-library-modify";
    }
  ]);

  app.controller('AuthedController', [
    '$scope', '$http', '$location', function($scope, $http, $location) {
      var accessToken, expires, hash, tokenType;
      console.log('beep');
      hash = window.location.hash.split('&');
      accessToken = hash[0].split('=')[1];
      tokenType = hash[1].split('=')[1];
      expires = hash[2].split('=')[1];
      window.localStorage.setItem('authed', true);
      window.localStorage.setItem('accessToken', accessToken);
      window.localStorage.setItem('tokenType', tokenType);
      window.localStorage.setItem('expires', expires);
      return window.location = '/user';
    }
  ]);

  app.controller('UserController', [
    '$scope', '$http', function($scope, $http) {
      var getTracks;
      getTracks = function() {
        return $http.get("https://api.spotify.com/v1/me/tracks?limit=50", {
          headers: {
            'Authorization': 'Bearer ' + window.localStorage.getItem('accessToken')
          }
        }).success(function(data) {
          console.log(data);
          return $scope.tracks = data;
        }).error(function(data) {
          return console.log(data);
        });
      };
      return $http.get("https://api.spotify.com/v1/me", {
        headers: {
          'Authorization': 'Bearer ' + window.localStorage.getItem('accessToken')
        }
      }).success(function(data) {
        $scope.user = data;
        return getTracks();
      }).error(function(data) {
        return console.log(data);
      });
    }
  ]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,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UixDQUFZLElBQVosQ0FBQSxDQUFBO2lCQUNBLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLEtBRlQ7UUFBQSxDQU5YLENBVUUsQ0FBQyxLQVZILENBVVMsU0FBQyxJQUFELEdBQUE7aUJBQ0wsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFaLEVBREs7UUFBQSxDQVZULEVBRFU7TUFBQSxDQUFaLENBQUE7YUFnQkEsS0FDRSxDQUFDLEdBREgsQ0FDTywrQkFEUCxFQUN3QztBQUFBLFFBQ3BDLE9BQUEsRUFBUztBQUFBLFVBQ1AsZUFBQSxFQUFpQixTQUFBLEdBQVksTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFwQixDQUE0QixhQUE1QixDQUR0QjtTQUQyQjtPQUR4QyxDQU1FLENBQUMsT0FOSCxDQU1XLFNBQUMsSUFBRCxHQUFBO0FBQ1AsUUFBQSxNQUFNLENBQUMsSUFBUCxHQUFjLElBQWQsQ0FBQTtlQUNBLFNBQUEsQ0FBQSxFQUZPO01BQUEsQ0FOWCxDQVVFLENBQUMsS0FWSCxDQVVTLFNBQUMsSUFBRCxHQUFBO2VBQ0wsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFaLEVBREs7TUFBQSxDQVZULEVBakJtRDtJQUFBLENBQXBCO0dBQWpDLENBeEZBLENBQUE7QUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYXBwID0gYW5ndWxhci5tb2R1bGUoJ2JldHRlclNwb3RpZnknLCBbJ25nUm91dGUnXSlcblxuYXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgJyRjb21waWxlUHJvdmlkZXInLCAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyKSAtPlxuICAkY29tcGlsZVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KC9eXFxzKihodHRwcz98ZmlsZXx0ZWx8c3BvdGlmeSk6LylcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpXG4gICRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy9tZW93JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL21lb3cuaHRtbCdcbiAgICApXG4gICAgLndoZW4oJy9hcnRpc3RzLzppZCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9hcnRpc3QuaHRtbCdcbiAgICAgIGNvbnRyb2xsZXI6ICdBcnRpc3RDb250cm9sbGVyJ1xuICAgIClcbiAgICAud2hlbignL2F1dGgnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYXV0aC5odG1sJ1xuICAgICAgY29udHJvbGxlcjogJ0F1dGhDb250cm9sbGVyJ1xuICAgIClcbiAgICAud2hlbignL2F1dGhlZCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9tZW93Lmh0bWwnXG4gICAgICBjb250cm9sbGVyOiAnQXV0aGVkQ29udHJvbGxlcidcbiAgICApXG4gICAgLndoZW4oJy91c2VyJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL3VzZXIuaHRtbCdcbiAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ29udHJvbGxlcidcbiAgICApXG4gICAgLm90aGVyd2lzZShcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL21haW4uaHRtbCdcbiAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcidcbiAgICApXG5dKVxuXG5hcHAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICgkc2NvcGUsICRodHRwKSAtPlxuICAkc2NvcGUuZ2V0QXJ0aXN0cyA9IChhcnRpc3QpIC0+XG4gICAgJGh0dHBcbiAgICAgIC5nZXQoXCJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9zZWFyY2g/cT0je2FydGlzdH0mdHlwZT1hcnRpc3RcIilcbiAgICAgIC5zdWNjZXNzKChkYXRhKSAtPlxuICAgICAgICBjb25zb2xlLmxvZyBkYXRhLmFydGlzdHMuaXRlbXNcbiAgICAgICAgJHNjb3BlLmFydGlzdHMgPSBkYXRhLmFydGlzdHMuaXRlbXNcbiAgICAgIClcbiAgICAgIC5lcnJvcigoZGF0YSkgLT5cbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgIClcbl0pXG5cbmFwcC5jb250cm9sbGVyKCdBcnRpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHJvdXRlUGFyYW1zJywgKCRzY29wZSwgJGh0dHAsICRyb3V0ZVBhcmFtcykgLT5cbiAgJGh0dHBcbiAgICAuZ2V0KFwiaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYXJ0aXN0cy8jeyRyb3V0ZVBhcmFtcy5pZH1cIilcbiAgICAuc3VjY2VzcygoZGF0YSkgLT5cbiAgICAgIGNvbnNvbGUubG9nIGRhdGFcbiAgICAgICRzY29wZS5hcnRpc3QgPSBkYXRhXG4gICAgKVxuICAgIC5lcnJvcigoZGF0YSkgLT5cbiAgICAgIGNvbnNvbGUubG9nIGRhdGFcbiAgICApXG5cbiAgJGh0dHBcbiAgICAuZ2V0KFwiaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYXJ0aXN0cy8jeyRyb3V0ZVBhcmFtcy5pZH0vYWxidW1zP2xpbWl0PTUwXCIpXG4gICAgLnN1Y2Nlc3MoKGRhdGEpIC0+XG4gICAgICBjb25zb2xlLmxvZyBkYXRhXG4gICAgICAkc2NvcGUuYWxidW1zID0gZGF0YS5pdGVtc1xuICAgIClcbiAgICAuZXJyb3IoKGRhdGEpIC0+XG4gICAgICBjb25zb2xlLmxvZyBkYXRhXG4gICAgKVxuXSlcblxuYXBwLmNvbnRyb2xsZXIoJ0F1dGhDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAoJHNjb3BlLCAkaHR0cCkgLT5cbiAgY2xpZW50SWQgPSAnNTlkNmQ1MTgwZWNhNDE4MDk1YzQ5Y2IzMGJjMGMzYTMnXG4gIHJlZGlyZWN0VXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KCdodHRwOi8vbHVrZXMtaW1hYy5sb2NhbDo0MTQxL2F1dGhlZCcpXG5cbiAgd2luZG93LmxvY2F0aW9uID0gXCJodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2F1dGhvcml6ZT9jbGllbnRfaWQ9I3tjbGllbnRJZH0mcmVzcG9uc2VfdHlwZT10b2tlbiZyZWRpcmVjdF91cmk9I3tyZWRpcmVjdFVybH0mc2NvcGU9dXNlci1saWJyYXJ5LXJlYWQgdXNlci1saWJyYXJ5LW1vZGlmeVwiXG5dKVxuXG5hcHAuY29udHJvbGxlcignQXV0aGVkQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyRsb2NhdGlvbicsICgkc2NvcGUsICRodHRwLCAkbG9jYXRpb24pIC0+XG4gIGNvbnNvbGUubG9nICdiZWVwJ1xuICBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3BsaXQoJyYnKVxuICBhY2Nlc3NUb2tlbiA9IGhhc2hbMF0uc3BsaXQoJz0nKVsxXVxuICB0b2tlblR5cGUgPSBoYXNoWzFdLnNwbGl0KCc9JylbMV1cbiAgZXhwaXJlcyA9IGhhc2hbMl0uc3BsaXQoJz0nKVsxXVxuXG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aGVkJywgdHJ1ZSlcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NUb2tlbicsIGFjY2Vzc1Rva2VuKVxuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuVHlwZScsIHRva2VuVHlwZSlcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdleHBpcmVzJywgZXhwaXJlcylcblxuICB3aW5kb3cubG9jYXRpb24gPSAnL3VzZXInXG5dKVxuXG5hcHAuY29udHJvbGxlcignVXNlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICgkc2NvcGUsICRodHRwKSAtPlxuICBnZXRUcmFja3MgPSAtPlxuICAgICRodHRwXG4gICAgICAuZ2V0KFwiaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvbWUvdHJhY2tzP2xpbWl0PTUwXCIsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3VjY2VzcygoZGF0YSkgLT5cbiAgICAgICAgY29uc29sZS5sb2cgZGF0YVxuICAgICAgICAkc2NvcGUudHJhY2tzID0gZGF0YVxuICAgICAgKVxuICAgICAgLmVycm9yKChkYXRhKSAtPlxuICAgICAgICBjb25zb2xlLmxvZyBkYXRhXG4gICAgICAgICMgd2luZG93LmxvY2F0aW9uID0gJy9hdXRoJ1xuICAgICAgKVxuXG4gICRodHRwXG4gICAgLmdldChcImh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL21lXCIsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJylcbiAgICAgIH1cbiAgICB9KVxuICAgIC5zdWNjZXNzKChkYXRhKSAtPlxuICAgICAgJHNjb3BlLnVzZXIgPSBkYXRhXG4gICAgICBnZXRUcmFja3MoKVxuICAgIClcbiAgICAuZXJyb3IoKGRhdGEpIC0+XG4gICAgICBjb25zb2xlLmxvZyBkYXRhXG4gICAgICAjIHdpbmRvdy5sb2NhdGlvbiA9ICcvYXV0aCdcbiAgICApXG5dKSJdfQ==